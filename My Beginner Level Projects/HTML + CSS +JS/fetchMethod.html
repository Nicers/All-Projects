<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch Method</title>
  </head>
  <body>
    <form action="" id="myform">
      <label for="">Name</label><input type="text" id="name" /><br /><br />
      <label for="">Age</label><input type="number" id="age" /><br /><br />
      <input type="button" value="Submit" id="sub" />
    </form>
  </body>
  <script>
    const h1 = document.createElement("h1");
    const content = document.createTextNode(
      "Today is a Javascript Fetch Method"
    );
    h1.appendChild(content);
    document.body.appendChild(h1);

    // ************       METHOD - 1     ************
    // fetch('text.txt')
    // .then((response) => {
    //     return response.text();
    // })
    // .then((text) => {
    //     document.write(text);
    // })

    // ************       METHOD - 2 ( Data-Type = JSON )     ************
    // var obj={
    //     name:'ATA',
    //     Address:'Lakki Marwat',
    // };
    // fetch('https://jsonplaceholder.typicode.com/posts',{
    //     method:'POST',
    //     body:JSON.stringify(obj),
    //     headers:{
    //         'Content-type': 'application/json; charset=UTF-8',
    //     },
    // })
    // .then((response) => response.json())
    // .then((json) => console.log(json));

    // ************       METHOD - 3 ( Data-Type = Form Data )     ************
    document.getElementById("sub").addEventListener("click", function () {
      // e.defaultPrevented();
      var obj = {
        title: document.getElementById("name").value,
        age: document.getElementById("age").value,
      };
      fetch("https://jsonplaceholder.typicode.com/posts", {
        method: "POST",
        body: JSON.stringify(obj),
        headers: {
          "Content-type": "application/json; charset=UTF-8",
        },
      })
        .then((response) => response.json())
        .then((json) => {
          alert("Please Check Console!");
          console.log(json);
        });
    });

    var obj1 = {
      title: "Lakki",
      village: "Kheru Khel Pacca",
    };
    fetch("https://jsonplaceholder.typicode.com/posts/1", {
      method: "PUT",
      body: JSON.stringify(obj1),
      headers: {
        "content-type": "application/json; charset=UTF-8",
      },
    })
      .then((response) => response.json())
      .then((json) => {
        alert("Please Check Console!");
        console.log(json);
      });
  </script>
</html>
